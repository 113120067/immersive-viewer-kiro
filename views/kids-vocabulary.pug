extends layout

block content
  .container.mt-4
    .row.justify-content-center
      .col-md-8
        // ä¸»è¦å€åŸŸ
        .card.border-success.shadow
          .card-header.bg-success.text-white.text-center
            h3.mb-0 
              | ğŸŒŸ å°å­¸ç”Ÿè‹±æ–‡å­¸ç¿’åœ–ç‰‡ç”Ÿæˆå™¨ ğŸŒŸ
            p.mb-0.small è¼¸å…¥è‹±æ–‡å–®å­—æˆ–å¥å­ï¼ŒAI å¹«ä½ ç•«åœ–ç‰‡ï¼
          
          .card-body.p-4
            // æ­¡è¿è¨Šæ¯
            .alert.alert-success.text-center.mb-4#welcomeMessage
              h5 
                | ğŸ‘‹ æ­¡è¿å°æœ‹å‹ï¼
              p.mb-2 è¼¸å…¥è‹±æ–‡å–®å­—æˆ–å¥å­ï¼Œæˆ‘æœƒå¹«ä½ ç•«ä¸€å¼µå¯æ„›çš„åœ–ç‰‡ä¾†å­¸ç¿’ï¼
              p.mb-0.small.text-muted âœ¨ å®Œå…¨å…è²»ä½¿ç”¨ï¼Œç„¡éœ€è¨»å†Šç™»å…¥
            
            // ç°¡å–®è¼¸å…¥è¡¨å–®
            form#simpleVocabForm
              .mb-4
                label.form-label.h5(for="wordInput") 
                  | ğŸ”¤ è«‹è¼¸å…¥è‹±æ–‡å–®å­—æˆ–å¥å­ï¼š
                .input-group.input-group-lg
                  input#wordInput.form-control.form-control-lg(
                    type="text" 
                    placeholder="ä¾‹å¦‚ï¼šapple, I am happy, good morning..."
                    style="font-size: 18px;"
                    required
                  )
                  button#generateBtn.btn.btn-success.btn-lg(type="submit")
                    i.fas.fa-magic
                    |  ç”Ÿæˆåœ–ç‰‡ï¼
                .form-text.mt-2
                  | ğŸ’¡ å–®å­—ï¼šapple, dog, smile, house, book
                  br
                  | ğŸ’¬ å¥å­ï¼šI am happy, good morning, I like cats
              
              // ç™¼éŸ³åŠŸèƒ½è¨­å®š
              .row.mt-3
                .col-md-4
                  .form-check.form-switch
                    input#pronunciationToggle.form-check-input(type="checkbox" checked)
                    label.form-check-label(for="pronunciationToggle")
                      | ğŸ”Š è‡ªå‹•ç™¼éŸ³
                      small.text-muted.d-block ç”Ÿæˆåœ–ç‰‡å¾Œè‡ªå‹•æ’­æ”¾å–®å­—ç™¼éŸ³
                
                .col-md-4
                  .form-check.form-switch
                    input#practiceToggle.form-check-input(type="checkbox")
                    label.form-check-label(for="practiceToggle")
                      | ğŸ¤ ç·´ç¿’ç™¼éŸ³
                      small.text-muted.d-block é–‹å•ŸèªéŸ³è­˜åˆ¥ç·´ç¿’åŠŸèƒ½
                
                .col-md-4
                  label.form-label.small(for="speechSpeedSlider")
                    | ğŸµ æ’­æ”¾é€Ÿåº¦
                    span#speedValue.text-muted.ms-1 (æ­£å¸¸)
                  input#speechSpeedSlider.form-range(
                    type="range" 
                    min="0.5" 
                    max="2.0" 
                    step="0.1" 
                    value="0.8"
                  )
                  .d-flex.justify-content-between.small.text-muted
                    span æ…¢
                    span å¿«
              
              // éš±è—çš„é€²éšé¸é …ï¼ˆé è¨­ç‚ºå°å­¸ç”Ÿå‹å–„è¨­ç½®ï¼‰
              input#providerSelect(type="hidden" value="pollinations")
              input#styleSelect(type="hidden" value="cartoon")
              input#levelSelect(type="hidden" value="beginner")
              input#techniqueSelect(type="hidden" value="story")
              input#includeTextCheck(type="hidden" value="true")
            
            // ç”Ÿæˆç‹€æ…‹
            .mt-4#generationStatus(style="display: none")
              .alert.alert-primary.text-center
                .spinner-border.text-primary.me-3
                h5.d-inline 
                  | ğŸ¨ æ­£åœ¨ç‚ºä½ ç•«åœ–ç‰‡...
                p.mb-0.small è«‹ç¨ç­‰ 10-20 ç§’
            
            // éŒ¯èª¤è¨Šæ¯
            .mt-3#errorMessage(style="display: none")
              .alert.alert-warning.text-center
                i.fas.fa-exclamation-triangle.me-2
                span#errorText
      
      .col-md-4
        // çµæœå€åŸŸ
        .card.border-primary.shadow
          .card-header.bg-primary.text-white.text-center
            h5.mb-0 
              | ğŸ–¼ï¸ ä½ çš„åœ–ç‰‡
          .card-body.text-center
            // åœ–ç‰‡é¡¯ç¤º
            .image-result#imageResult(style="display: none")
              .mb-3
                img#generatedImage.img-fluid.rounded.shadow(style="max-width: 100%; border: 3px solid #28a745;")
              
              .word-info.bg-light.p-3.rounded.mb-3
                h4.text-success.mb-1#wordTitle å–®å­—
                p.text-muted.mb-2#wordMeaning æ„æ€
                
                // ç™¼éŸ³æ§åˆ¶æŒ‰éˆ•
                .pronunciation-controls.mt-2
                  .row.g-2
                    .col-6
                      button#pronounceBtn.btn.btn-primary.btn-sm.w-100(type="button")
                        i.fas.fa-volume-up.me-1
                        | ğŸ”Š ç™¼éŸ³
                    .col-6
                      button#practiceBtn.btn.btn-warning.btn-sm.w-100(type="button" style="display: none")
                        i.fas.fa-microphone.me-1
                        | ğŸ¤ ç·´ç¿’
                
                // ç·´ç¿’ç™¼éŸ³çµæœ
                .practice-result.mt-2#practiceResult(style="display: none")
                  .alert.alert-info.small.mb-0
                    .d-flex.align-items-center
                      .spinner-border.spinner-border-sm.me-2#practiceSpinner(style="display: none")
                      span#practiceText é»æ“Šéº¥å…‹é¢¨é–‹å§‹ç·´ç¿’ç™¼éŸ³...</span>
              
              .mb-3
                small.text-muted#aiProvider 
                  | ğŸ¤– ç”± AI ç”Ÿæˆ
              
              .d-grid
                a#downloadLink.btn.btn-outline-success(download="my-word-image.png")
                  i.fas.fa-download.me-2
                  | ä¸‹è¼‰åœ–ç‰‡
            
            // ä½”ä½ç¬¦
            .placeholder-content#placeholderContent
              .text-center.text-muted.py-5
                i.fas.fa-image.fa-4x.mb-3.text-light
                h5 ä½ çš„åœ–ç‰‡æœƒå‡ºç¾åœ¨é€™è£¡
                p.small è¼¸å…¥å–®å­—å¾Œé»æ“Šã€Œç”Ÿæˆåœ–ç‰‡ã€
        
        // æœ€è¿‘çš„å…§å®¹
        .card.mt-3.border-info
          .card-header.bg-info.text-white.text-center
            h6.mb-0 
              | ğŸ“š æœ€è¿‘å­¸éçš„å…§å®¹
          .card-body
            .small#recentWords
              p.text-muted.text-center é‚„æ²’æœ‰å­¸éçš„å…§å®¹

  // ç‰¹æ®Šæ¨£å¼
  style.
    body {
      background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
    }
    
    .card {
      border-radius: 15px;
    }
    
    .card-header {
      border-radius: 15px 15px 0 0 !important;
    }
    
    #wordInput {
      border-radius: 25px;
      border: 3px solid #28a745;
      text-align: center;
      font-weight: bold;
    }
    
    #wordInput:focus {
      border-color: #20c997;
      box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
    }
    
    #generateBtn {
      border-radius: 25px;
      font-weight: bold;
      min-width: 120px;
    }
    
    #generatedImage {
      transition: transform 0.3s ease;
    }
    
    #generatedImage:hover {
      transform: scale(1.05);
    }
    
    .placeholder-content {
      border: 3px dashed #dee2e6;
      border-radius: 15px;
      background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
                  linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
                  linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
                  linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
      background-size: 20px 20px;
      background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    }
    
    .word-info {
      border: 2px solid #28a745;
      border-radius: 10px;
    }
    
    .spinner-border {
      width: 2rem;
      height: 2rem;
    }
    
    .recent-word-item {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 8px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .recent-word-item:hover {
      background: #e9ecef;
      transform: translateY(-2px);
    }
    
    #speechSpeedSlider {
      background: linear-gradient(to right, #28a745 0%, #20c997 50%, #17a2b8 100%);
      height: 8px;
      border-radius: 5px;
      outline: none;
      opacity: 0.8;
      transition: opacity 0.2s;
    }
    
    #speechSpeedSlider:hover {
      opacity: 1;
    }
    
    #speechSpeedSlider::-webkit-slider-thumb {
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #28a745;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    #speechSpeedSlider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: #28a745;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

block scripts
  script(src="/js/kids-vocabulary.js")
  script.
    // é é¢è¼‰å…¥å‹•ç•«
    document.addEventListener('DOMContentLoaded', function() {
      console.log('ğŸŒŸ Kids Vocabulary Generator loaded');
      
      // ç°¡å–®çš„æ­¡è¿å‹•ç•«
      setTimeout(() => {
        const welcome = document.getElementById('welcomeMessage');
        if (welcome) {
          welcome.style.animation = 'pulse 2s infinite';
        }
      }, 1000);
    });