extends layout

block content
  .container-fluid.mt-4
    .row
      .col-md-8
        // è¾²å ´ä¸»å€åŸŸ
        .card
          .card-header.bg-success.text-white
            h4.mb-0 ğŸŒ± Smart Farm - English Learning Game
          .card-body
            // éŠæˆ²ç‹€æ…‹é¡¯ç¤º
            .row.mb-3
              .col-md-6
                .alert.alert-info
                  strong ğŸ’° Gold: 
                  span#goldAmount 100
              .col-md-6
                .alert.alert-warning
                  strong ğŸ¯ Current Task: 
                  span#currentTask Plant the carrot
            
            // è¾²å ´ç¶²æ ¼
            .farm-grid.mb-4
              h5 ğŸšœ Your Farm
              .row
                each i in [1,2,3,4]
                  .col-3.mb-2
                    .farm-plot(data-plot=i)
                      .plot-content
                        .plot-status Empty
                        button.btn.btn-outline-success.btn-sm.plant-btn(data-plot=i) ğŸŒ± Plant
                        button.btn.btn-outline-warning.btn-sm.harvest-btn(data-plot=i, style="display:none") ğŸŒ¾ Harvest
            
            // èªéŸ³æ§åˆ¶å€åŸŸ
            .voice-control.mt-4
              .card.border-primary
                .card-header.bg-primary.text-white
                  h5.mb-0 ğŸ¤ Voice Commands
                .card-body
                  .row
                    .col-md-6
                      button#startListening.btn.btn-success.btn-lg.w-100
                        i.fas.fa-microphone
                        |  Start Listening
                    .col-md-6
                      button#stopListening.btn.btn-danger.btn-lg.w-100(disabled)
                        i.fas.fa-stop
                        |  Stop Listening
                  
                  .mt-3
                    .alert.alert-light
                      strong ğŸ—£ï¸ Say: 
                      span#expectedCommand "Plant the carrot"
                    
                    .mt-2
                      strong ğŸ‘‚ You said: 
                      span#recognizedText ...
                    
                    .mt-2
                      strong ğŸ“Š Score: 
                      span#pronunciationScore --
      
      .col-md-4
        // å­¸ç¿’é¢æ¿
        .card
          .card-header.bg-info.text-white
            h5.mb-0 ğŸ“š Learning Panel
          .card-body
            // ç•¶å‰è©å½™
            .vocabulary-section.mb-4
              h6 ğŸ”¤ Current Vocabulary
              .vocab-item.mb-2
                .card.border-success
                  .card-body.text-center
                    h4 ğŸ¥• Carrot
                    p.text-muted /ËˆkÃ¦r.É™t/
                    button.btn.btn-sm.btn-outline-primary.play-word(data-word="carrot")
                      i.fas.fa-volume-up
                      |  Listen
            
            // ä»»å‹™é€²åº¦
            .progress-section.mb-4
              h6 ğŸ“ˆ Task Progress
              .progress.mb-2
                .progress-bar.bg-success(style="width: 0%" id="taskProgress")
              small.text-muted Complete the carrot planting task
            
            // å­¸ç¿’æç¤º
            .tips-section
              h6 ğŸ’¡ Learning Tips
              .alert.alert-light.small
                ul.mb-0
                  li Speak clearly and slowly
                  li Listen to the instruction first
                  li Try to match the pronunciation
                  li Don't worry about mistakes!

  // éŸ³é »å…ƒç´ 
  audio#instructionAudio(preload="auto")
  audio#feedbackAudio(preload="auto")

block scripts
  script(src="/js/farm-game.js" type="module")
  script.
    // åˆå§‹åŒ–éŠæˆ²
    document.addEventListener('DOMContentLoaded', function() {
      console.log('ğŸ® Farm Game MVP loaded');
    });