# 🎮 Smart Farm MVP - 英文學習遊戲

## 🎯 MVP 功能說明

這是基於 `idea.md` 設計的最小可行產品（MVP），實現了語音驅動的農場英文學習遊戲核心功能。

### ✨ 已實現功能

#### 1. **基本農場界面**
- 4個農場地塊，支援種植和收成
- 即時遊戲狀態顯示（金幣、任務進度）
- 視覺化農作物生長過程

#### 2. **語音指令系統**
- 使用 Web Speech API 進行語音識別
- 支援英文語音指令輸入
- 即時語音回饋和指導

#### 3. **核心學習流程**
- **播種任務**：說 "Plant the carrot" 來種植
- **收成任務**：說 "Harvest now" 來收穫
- **發音評分**：簡化版相似度計算
- **學習回饋**：即時分數和改進建議

#### 4. **遊戲機制**
- 金幣系統（種植消耗，收成獲得）
- 任務進度追蹤
- 自動作物成熟（3秒演示）
- 循環學習任務

## 🚀 如何使用

### 1. **訪問遊戲**
```
http://localhost:3000/farm-game
```

### 2. **開始學習**
1. 點擊 "Start Listening" 按鈕
2. 聽到系統指令後，清楚地說出英文回應
3. 查看發音分數和遊戲反應
4. 完成種植和收成循環

### 3. **語音指令範例**
- **種植**：
  - "Plant the carrot"
  - "Planting carrot now"
  - "Plant carrot"

- **收成**：
  - "Harvest now"
  - "Harvest the carrot"
  - "Harvest carrot"

## 🛠️ 技術實現

### **前端技術**
- **Pug 模板**：響應式遊戲界面
- **Web Speech API**：語音識別和合成
- **Bootstrap 5**：UI 框架
- **CSS 動畫**：遊戲視覺效果

### **語音處理**
- **語音識別**：`webkitSpeechRecognition`
- **語音合成**：`SpeechSynthesisUtterance`
- **發音評分**：關鍵字匹配 + 字符串相似度
- **即時回饋**：分數顯示和語音提示

### **遊戲邏輯**
- **狀態管理**：JavaScript 類別架構
- **任務系統**：可配置的指令和期望回應
- **進度追蹤**：視覺化進度條和統計

## 📊 評分機制

### **簡化版發音評分**
```javascript
// 計算相似度（0-100%）
- 關鍵字匹配：檢查必要單詞（plant, carrot, harvest）
- 字符串相似度：比較整體句子結構
- 容錯機制：60% 以上通過，可重試改進
```

### **分數標準**
- **90-100%**：優秀，獲得額外獎勵
- **70-89%**：良好，正常完成任務
- **60-69%**：及格，可以執行但建議改進
- **<60%**：需要重試，提供發音提示

## 🎯 學習目標

### **詞彙學習**
- **Carrot** `/ˈkær.ət/` - 胡蘿蔔
- **Plant** - 種植
- **Harvest** - 收穫

### **句型練習**
- **祈使句**：Plant the carrot
- **現在進行式**：Planting carrot now
- **簡單指令**：Harvest now

### **聽力理解**
- 理解農場相關指令
- 識別動作詞彙
- 回應系統提示

## 🔄 遊戲流程

```
開始遊戲
    ↓
聽取指令："Plant the carrot"
    ↓
語音回應：玩家說出指令
    ↓
系統評分：計算發音準確度
    ↓
執行動作：種植胡蘿蔔（如果分數足夠）
    ↓
等待成熟：3秒後作物成熟
    ↓
新指令："Harvest now"
    ↓
語音回應：玩家說出收成指令
    ↓
完成收成：獲得金幣和經驗
    ↓
循環：回到種植階段
```

## 🚧 MVP 限制

### **當前限制**
1. **簡化評分**：僅使用關鍵字匹配，未使用專業語音評分 API
2. **單一作物**：只支援胡蘿蔔，未實現多樣化
3. **基礎 UI**：功能性界面，美術資源有限
4. **瀏覽器依賴**：需要支援 Web Speech API 的現代瀏覽器

### **技術限制**
- 需要麥克風權限
- 網路連接（語音識別）
- Chrome/Edge 瀏覽器推薦
- 安靜環境效果更佳

## 🔮 後續擴展計劃

### **短期改進**
1. **更多作物**：蘋果、玉米、番茄等
2. **複雜對話**：市集交易、動物餵養
3. **美術升級**：更豐富的視覺效果
4. **音效系統**：背景音樂和音效

### **中期目標**
1. **專業評分**：整合 Azure Speech API
2. **教材整合**：支援課本內容上傳
3. **多人模式**：班級競賽和合作
4. **進度追蹤**：詳細學習分析

### **長期願景**
1. **AI 導師**：個性化學習建議
2. **VR/AR 支援**：沉浸式農場體驗
3. **多語言**：支援其他語言學習
4. **移動應用**：原生 App 開發

## 🧪 測試建議

### **功能測試**
1. 測試語音識別在不同環境下的準確性
2. 驗證遊戲邏輯的正確性
3. 檢查 UI 響應性和易用性

### **學習效果測試**
1. 記錄學習者的發音改進情況
2. 統計任務完成時間和準確率
3. 收集使用者體驗回饋

### **技術測試**
1. 不同瀏覽器兼容性測試
2. 網路延遲對語音識別的影響
3. 長時間使用的穩定性測試

## 📞 支援和回饋

如果在使用過程中遇到問題或有改進建議，請：

1. 檢查瀏覽器是否支援語音功能
2. 確認麥克風權限已開啟
3. 在安靜環境中測試
4. 清楚緩慢地說出指令

---

**🎉 享受你的英文農場學習之旅！**